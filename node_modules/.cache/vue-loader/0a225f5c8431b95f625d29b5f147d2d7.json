{"remainingRequest":"/home/alepopo/Documents/AleDox/Trabajo/Front/Vue.js/projectk/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/alepopo/Documents/AleDox/Trabajo/Front/Vue.js/projectk/src/views/Novelties.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/alepopo/Documents/AleDox/Trabajo/Front/Vue.js/projectk/src/views/Novelties.vue","mtime":1612364697793},{"path":"/home/alepopo/Documents/AleDox/Trabajo/Front/Vue.js/projectk/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/alepopo/Documents/AleDox/Trabajo/Front/Vue.js/projectk/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/alepopo/Documents/AleDox/Trabajo/Front/Vue.js/projectk/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/alepopo/Documents/AleDox/Trabajo/Front/Vue.js/projectk/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKZXhwb3J0IGRlZmF1bHQgewogICAgZGF0YSgpewogICAgICAgIHJldHVybnsKCiAgICAgICAgICAgIGlzTW92aWVEZXRhaWxzOiBbXSwKICAgICAgICAgICAgaXNWaWV3QWRkZWQ6IFtdLAogICAgICAgICAgICBpc01vdmllUmF0ZWQ6IFtdLAoKICAgICAgICAgICAgbW92aWVzOiBbCgogICAgICAgICAgICBdLAoKCiAgICAgICAgfQogICAgfSwKCiAgICBtZXRob2RzOnsKCiAgICAgICAgYXN5bmMgYWRkVmlldyhpbmRleCl7CgoKICAgICAgICAgICAgCgogICAgICAgICAgICBhd2FpdCBheGlvcy5wb3N0KGBodHRwOi8vbG9jYWxob3N0OjMwMDAvYWRkLXZpZXdgLCAKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgbW92aWVJZDogdGhpcy5tb3ZpZXNbaW5kZXhdLl9pZCwKICAgICAgICAgICAgfQogICAgICAgICAgICApCiAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHsKCiAgICAgICAgICAgICAgICB0aGlzLm1vdmllc1tpbmRleF0udmlld3MgPSByZXMuZGF0YS52aWV3czsKICAgICAgICAgICAgICAgIHRoaXMuaXNWaWV3QWRkZWRbaW5kZXhdID0gdHJ1ZTsKICAgICAgICAgICAgICAgIHRoaXMuaXNWaWV3QWRkZWQucHVzaChmYWxzZSk7CiAgICAgICAgICAgICAgICB0aGlzLmlzVmlld0FkZGVkLnBvcCgpOwogICAgICAgICAgICAgICAgCgogICAgICAgICAgICB9CiAgICAgICAgICAgICkuY2F0Y2goKGVycm9yKSA9PiB7CgogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJFcnJvciBkZSBzZXJ2aWRvciIpOwogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICkKCiAgICAgICAgfSwKCiAgICAgICAgbW92aWVzSG92ZXJJbml0aWFsaXplcigpIHsKICAgICAgICAgICAgdGhpcy5pc01vdmllRGV0YWlscyA9IFtdOwogICAgICAgICAgICB0aGlzLmlzVmlld0FkZGVkID0gW107CiAgICAgICAgICAgIHRoaXMuaXNNb3ZpZVJhdGVkPSBbXTsKICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMubW92aWVzLmxlbmd0aDsgaSsrKXsKCiAgICAgICAgICAgICAgICB0aGlzLmlzTW92aWVEZXRhaWxzLnB1c2goZmFsc2UpOwogICAgICAgICAgICAgICAgdGhpcy5pc1ZpZXdBZGRlZC5wdXNoKGZhbHNlKTsKICAgICAgICAgICAgICAgIHRoaXMuaXNNb3ZpZVJhdGVkLnB1c2goZmFsc2UpOwogICAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgYXN5bmMgcmF0ZU1vdmllKHJhdGUsIGluZGV4KXsKCiAgICAgICAgICAgIGF3YWl0IGF4aW9zLnBvc3QoYGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9yYXRlLW1vdmllYCwgCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIG1vdmllSWQ6IHRoaXMubW92aWVzW2luZGV4XS5faWQsCiAgICAgICAgICAgICAgICByYXRpbmc6IHJhdGUsCiAgICAgICAgICAgIH0KICAgICAgICAgICAgKQogICAgICAgICAgICAudGhlbigocmVzKSA9PiB7CgogICAgICAgICAgICAgICAgdGhpcy5tb3ZpZXNbaW5kZXhdLm1vdmllTGlrZVBlcmNlbnRhZ2UgPSByZXMuZGF0YS5yYXRpbmc7CiAgICAgICAgICAgICAgICAKCiAgICAgICAgICAgIH0KICAgICAgICAgICAgKS5jYXRjaCgoZXJyb3IpID0+IHsKCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIkVycm9yIGRlIHNlcnZpZG9yIik7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwoKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgKQogICAgICAgIH0sCgoKCiAgICAgICAgbW91c2VPdmVyKGluZGV4KSB7CiAgICAgICAgICAgIHRoaXMuaXNNb3ZpZURldGFpbHMyID10cnVlOwogICAgICAgICAgICB0aGlzLmlzTW92aWVEZXRhaWxzW2luZGV4XSA9IHRydWU7CiAgICAgICAgICAgIHRoaXMuaXNNb3ZpZURldGFpbHMucHVzaChmYWxzZSkKICAgICAgICAgICAgdGhpcy5pc01vdmllRGV0YWlscy5wb3AoKQogICAgICAgIH0sCgogICAgICAgIG1vdXNlTGVhdmUoaW5kZXgpIHsKICAgICAgICAgICAKICAgICAgICAgICAgdGhpcy5pc01vdmllRGV0YWlsczIgPWZhbHNlOwoKICAgICAgICAgICAgdGhpcy5pc01vdmllRGV0YWlsc1tpbmRleF0gPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy5pc01vdmllRGV0YWlscy5wdXNoKGZhbHNlKQogICAgICAgICAgICB0aGlzLmlzTW92aWVEZXRhaWxzLnBvcCgpCgogICAgICAgIH0sCiAgICB9LAoKICAgIGFzeW5jIG1vdW50ZWQoKXsKCiAgICAgICAgY29uc29sZS5sb2coIm1vdmllcyBtb3VudGVkZGRkIikKICAgICAgICBhd2FpdCBheGlvcy5nZXQoYGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9nZXQtbm92ZWx0aWVzLzIxYCkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgIHRoaXMubW92aWVzID0gcmVzLmRhdGEKCiAgICAgICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7CgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIkVycm9yIGRlIHNlcnZpZG9yIik7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CgogICAgICAgICAgICB9CiAgICAgICAgKQoKICAgIH0KfQo="},{"version":3,"sources":["Novelties.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;;AAGA;AACA;;AAEA;;AAEA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA","file":"Novelties.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"w-full \">\n\n\n    <div class=\"shadow-lg bg-gradient-to-b from-indigo-600 to-blue-700  text-center p-5 \">\n\n        <h1 class=\"text-2xl text-gray-100\">Novedades</h1>\n    </div>\n\n\n    <div class=\"flex justify-around\">\n    <div class=\" mx-10  grid grid-cols-3 gap-20  md:grid grid-cols-4 sm:grid grid-cols-1\" >\n        <div  @mouseover=\"mouseOver(index)\"  @mouseleave=\"mouseLeave(index)\" id=\"moviesDiv\" class=\"text-center flex justify-around \" v-for=\"(movie, index) in movies\" :key=\"index\">\n\n            <div id=\"movieDiv\" class=\"mt-4 bg-gray-300  shadow-lg rounded w-full bg-gradient-to-t from-gray-400\" >\n                <div >\n                    \n                    <p class=\"text-xl my-2 py-2\" id=\"movieTitle\">{{movie.title}}</p>\n                    <div v-if=\"!isMovieDetails[index]\"   class=\"flex justify-center bg-gradient-to-t from-gray-500 rounded\">\n                        <img   class=\" w-full\"  :src=\"movie.img\" >\n\n                    </div>\n                    <div v-else class=\"py-2 px-3 bg-gray-200 \" >\n                        <p class=\"text-xs my-4\">\"{{movie.synopsis}}\"</p>\n                        <p class=\"mt-y\">Vistas: {{movie.views}}</p>\n                        <p>Rating: {{ movie.movieLikePercentage}}%</p>\n                        <div v-if=\"!isMovieRated[index]\" class=\"flex justify-center my-3\" >\n                            <img  @click=\"rateMovie(true, index)\" class=\"w-2/12 bg-gray-200 mx-4 hover:shadow-lg\"  src=\"../assets/thumbs.png\"  >\n                            <img  @click=\"rateMovie(false, index)\"  class=\"w-2/12 bg-gray-200 mx-4 transform rotate-180 hover:shadow-lg\"  src=\"../assets/thumbs.png\"  >\n\n                        </div>\n\n                        <div v-else class=\"my-2 text-red-400\"> <p>Pelicula Calificada</p>\n                        </div>\n                    \n                        <button :disabled=\"isViewAdded[index]\" :class=\"isViewAdded[index] ? 'bg-gray-200 text-gray-400' : 'bg-blue-300 border-2 border-blue-400  hover:border-blue-500 '\" @click=\"addView(index)\" class=\"mt-3 rounded p-1 px-2 shadow-md text-md\">Â¡Vi esta pelicula!</button>\n\n                    </div>\n\n\n                </div>\n\n            </div>\n        </div>\n    </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nexport default {\n    data(){\n        return{\n\n            isMovieDetails: [],\n            isViewAdded: [],\n            isMovieRated: [],\n\n            movies: [\n\n            ],\n\n\n        }\n    },\n\n    methods:{\n\n        async addView(index){\n\n\n            \n\n            await axios.post(`http://localhost:3000/add-view`, \n            {\n                movieId: this.movies[index]._id,\n            }\n            )\n            .then((res) => {\n\n                this.movies[index].views = res.data.views;\n                this.isViewAdded[index] = true;\n                this.isViewAdded.push(false);\n                this.isViewAdded.pop();\n                \n\n            }\n            ).catch((error) => {\n\n                    console.log(\"Error de servidor\");\n                    console.log(error);\n\n                }\n            )\n\n        },\n\n        moviesHoverInitializer() {\n            this.isMovieDetails = [];\n            this.isViewAdded = [];\n            this.isMovieRated= [];\n            for(var i = 0; i < this.movies.length; i++){\n\n                this.isMovieDetails.push(false);\n                this.isViewAdded.push(false);\n                this.isMovieRated.push(false);\n            }\n        },\n\n        async rateMovie(rate, index){\n\n            await axios.post(`http://localhost:3000/rate-movie`, \n            {\n                movieId: this.movies[index]._id,\n                rating: rate,\n            }\n            )\n            .then((res) => {\n\n                this.movies[index].movieLikePercentage = res.data.rating;\n                \n\n            }\n            ).catch((error) => {\n\n                    console.log(\"Error de servidor\");\n                    console.log(error);\n\n                }\n            )\n        },\n\n\n\n        mouseOver(index) {\n            this.isMovieDetails2 =true;\n            this.isMovieDetails[index] = true;\n            this.isMovieDetails.push(false)\n            this.isMovieDetails.pop()\n        },\n\n        mouseLeave(index) {\n           \n            this.isMovieDetails2 =false;\n\n            this.isMovieDetails[index] = false;\n            this.isMovieDetails.push(false)\n            this.isMovieDetails.pop()\n\n        },\n    },\n\n    async mounted(){\n\n        console.log(\"movies mountedddd\")\n        await axios.get(`http://localhost:3000/get-novelties/21`)\n        .then((res) => {\n            this.movies = res.data\n\n        }).catch((error) => {\n\n                console.log(\"Error de servidor\");\n                console.log(error);\n\n            }\n        )\n\n    }\n}\n</script>\n\n<style>\n\n\n\n</style>"]}]}