{"remainingRequest":"/home/alepopo/Documents/AleDox/Trabajo/Front/Vue.js/projectk/node_modules/babel-loader/lib/index.js!/home/alepopo/Documents/AleDox/Trabajo/Front/Vue.js/projectk/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/alepopo/Documents/AleDox/Trabajo/Front/Vue.js/projectk/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/alepopo/Documents/AleDox/Trabajo/Front/Vue.js/projectk/src/views/Novelties.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/alepopo/Documents/AleDox/Trabajo/Front/Vue.js/projectk/src/views/Novelties.vue","mtime":1612305614782},{"path":"/home/alepopo/Documents/AleDox/Trabajo/Front/Vue.js/projectk/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/alepopo/Documents/AleDox/Trabajo/Front/Vue.js/projectk/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/alepopo/Documents/AleDox/Trabajo/Front/Vue.js/projectk/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/alepopo/Documents/AleDox/Trabajo/Front/Vue.js/projectk/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvYWxlcG9wby9Eb2N1bWVudHMvQWxlRG94L1RyYWJham8vRnJvbnQvVnVlLmpzL3Byb2plY3RrL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc01vdmllRGV0YWlsczogW10sCiAgICAgIG1vdmllczogW10KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBhZGRWaWV3OiBmdW5jdGlvbiBhZGRWaWV3KGluZGV4KSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hZGQtdmlldyIsIHsKICAgICAgICAgICAgICAgICAgbW92aWVJZDogX3RoaXMubW92aWVzW2luZGV4XS5faWQKICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICBfdGhpcy5tb3ZpZXNbaW5kZXhdLnZpZXdzID0gcmVzLmRhdGEudmlld3M7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIkVycm9yIGRlIHNlcnZpZG9yIik7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbW92aWVzSG92ZXJJbml0aWFsaXplcjogZnVuY3Rpb24gbW92aWVzSG92ZXJJbml0aWFsaXplcigpIHsKICAgICAgdGhpcy5pc01vdmllRGV0YWlscyA9IFtdOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm1vdmllcy5sZW5ndGg7IGkrKykgewogICAgICAgIHRoaXMuaXNNb3ZpZURldGFpbHMucHVzaChmYWxzZSk7CiAgICAgIH0KICAgIH0sCiAgICByYXRlTW92aWU6IGZ1bmN0aW9uIHJhdGVNb3ZpZShyYXRlLCBpbmRleCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgiaHR0cDovL2xvY2FsaG9zdDozMDAwL3JhdGUtbW92aWUiLCB7CiAgICAgICAgICAgICAgICAgIG1vdmllSWQ6IF90aGlzMi5tb3ZpZXNbaW5kZXhdLl9pZCwKICAgICAgICAgICAgICAgICAgcmF0aW5nOiByYXRlCiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLm1vdmllc1tpbmRleF0ubW92aWVMaWtlUGVyY2VudGFnZSA9IHJlcy5kYXRhLnJhdGluZzsKICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiRXJyb3IgZGUgc2Vydmlkb3IiKTsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIG1vdXNlT3ZlcjogZnVuY3Rpb24gbW91c2VPdmVyKGluZGV4KSB7CiAgICAgIHRoaXMuaXNNb3ZpZURldGFpbHMyID0gdHJ1ZTsKICAgICAgdGhpcy5pc01vdmllRGV0YWlsc1tpbmRleF0gPSB0cnVlOwogICAgICB0aGlzLmlzTW92aWVEZXRhaWxzLnB1c2goZmFsc2UpOwogICAgICB0aGlzLmlzTW92aWVEZXRhaWxzLnBvcCgpOwogICAgfSwKICAgIG1vdXNlTGVhdmU6IGZ1bmN0aW9uIG1vdXNlTGVhdmUoaW5kZXgpIHsKICAgICAgdGhpcy5pc01vdmllRGV0YWlsczIgPSBmYWxzZTsKICAgICAgdGhpcy5pc01vdmllRGV0YWlsc1tpbmRleF0gPSBmYWxzZTsKICAgICAgdGhpcy5pc01vdmllRGV0YWlscy5wdXNoKGZhbHNlKTsKICAgICAgdGhpcy5pc01vdmllRGV0YWlscy5wb3AoKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb25zb2xlLmxvZygibW92aWVzIG1vdW50ZWRkZGQiKTsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldCgiaHR0cDovL2xvY2FsaG9zdDozMDAwL2dldC1ub3ZlbHRpZXMvMjEiKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgIF90aGlzMy5tb3ZpZXMgPSByZXMuZGF0YTsKICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJFcnJvciBkZSBzZXJ2aWRvciIpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTMpOwogICAgfSkpKCk7CiAgfQp9Ow=="},{"version":3,"sources":["Novelties.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA,OAAA,KAAA,MAAA,OAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AAEA,MAAA,cAAA,EAAA,EAFA;AAIA,MAAA,MAAA,EAAA;AAJA,KAAA;AAUA,GAZA;AAcA,EAAA,OAAA,EAAA;AAEA,IAAA,OAFA,mBAEA,KAFA,EAEA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAKA,KAAA,CAAA,IAAA,mCACA;AACA,kBAAA,OAAA,EAAA,KAAA,CAAA,MAAA,CAAA,KAAA,EAAA;AADA,iBADA,EAKA,IALA,CAKA,UAAA,GAAA,EAAA;AAEA,kBAAA,KAAA,CAAA,MAAA,CAAA,KAAA,EAAA,KAAA,GAAA,GAAA,CAAA,IAAA,CAAA,KAAA;AAGA,iBAVA,EAWA,KAXA,CAWA,UAAA,KAAA,EAAA;AAEA,kBAAA,OAAA,CAAA,GAAA,CAAA,mBAAA;AACA,kBAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AAEA,iBAhBA,CALA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAwBA,KA1BA;AA4BA,IAAA,sBA5BA,oCA4BA;AACA,WAAA,cAAA,GAAA,EAAA;;AACA,WAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,KAAA,MAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AAEA,aAAA,cAAA,CAAA,IAAA,CAAA,KAAA;AACA;AACA,KAlCA;AAoCA,IAAA,SApCA,qBAoCA,IApCA,EAoCA,KApCA,EAoCA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEA,KAAA,CAAA,IAAA,qCACA;AACA,kBAAA,OAAA,EAAA,MAAA,CAAA,MAAA,CAAA,KAAA,EAAA,GADA;AAEA,kBAAA,MAAA,EAAA;AAFA,iBADA,EAMA,IANA,CAMA,UAAA,GAAA,EAAA;AAEA,kBAAA,MAAA,CAAA,MAAA,CAAA,KAAA,EAAA,mBAAA,GAAA,GAAA,CAAA,IAAA,CAAA,MAAA;AAGA,iBAXA,EAYA,KAZA,CAYA,UAAA,KAAA,EAAA;AAEA,kBAAA,OAAA,CAAA,GAAA,CAAA,mBAAA;AACA,kBAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AAEA,iBAjBA,CAFA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAqBA,KAzDA;AA6DA,IAAA,SA7DA,qBA6DA,KA7DA,EA6DA;AACA,WAAA,eAAA,GAAA,IAAA;AACA,WAAA,cAAA,CAAA,KAAA,IAAA,IAAA;AACA,WAAA,cAAA,CAAA,IAAA,CAAA,KAAA;AACA,WAAA,cAAA,CAAA,GAAA;AACA,KAlEA;AAoEA,IAAA,UApEA,sBAoEA,KApEA,EAoEA;AAEA,WAAA,eAAA,GAAA,KAAA;AAEA,WAAA,cAAA,CAAA,KAAA,IAAA,KAAA;AACA,WAAA,cAAA,CAAA,IAAA,CAAA,KAAA;AACA,WAAA,cAAA,CAAA,GAAA;AAEA;AA5EA,GAdA;AA6FA,EAAA,OA7FA,qBA6FA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,cAAA,OAAA,CAAA,GAAA,CAAA,mBAAA;AAFA;AAAA,qBAGA,KAAA,CAAA,GAAA,2CACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,gBAAA,MAAA,CAAA,MAAA,GAAA,GAAA,CAAA,IAAA;AAEA,eAJA,EAIA,KAJA,CAIA,UAAA,KAAA,EAAA;AAEA,gBAAA,OAAA,CAAA,GAAA,CAAA,mBAAA;AACA,gBAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AAEA,eATA,CAHA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAeA;AA5GA,CAAA","sourcesContent":["<template>\n  <div class=\"w-full \">\n\n\n    <div class=\"shadow-lg bg-gradient-to-b from-indigo-600 to-blue-700  text-center p-5 \">\n\n        <h1 class=\"text-2xl text-gray-100\">Novedades</h1>\n    </div>\n\n\n    <div class=\"flex justify-around\">\n        <div class=\"mx-10  grid grid-cols-4 gap-20  md:grid grid-cols-3 sm:grid grid-cols-1\" >\n            <div  @mouseover=\"mouseOver(index)\"  @mouseleave=\"mouseLeave(index)\" id=\"moviesDiv\" class=\"text-center flex justify-around \" v-for=\"(movie, index) in movies\" :key=\"index\">\n\n                <div id=\"movieDiv\" class=\"mt-4 inline-block bg-gray-300  shadow-lg rounded w-full bg-gradient-to-t from-gray-400\" >\n                    <div >\n                        <p class=\"text-xl my-2 py-2\" id=\"movieTitle\">{{movie.title}}</p>\n                        <div v-if=\"!isMovieDetails[index]\" class=\"flex justify-center bg-gradient-to-t from-gray-500 rounded\">\n                            <img   class=\"object-fill\"  :src=\"movie.img\" >\n\n                        </div>\n                        <div v-else class=\"py-2 px-3 bg-gray-200 \" width=\"300\">\n                            <p class=\"text-xs my-4\">\"{{movie.synopsis}}\"</p>\n                            <p class=\"mt-y\">Views: {{movie.views}}</p>\n                            <p>Rating: {{ movie.movieLikePercentage}}%</p>\n                            <div class=\"flex justify-center my-3\">\n                                <img  @click=\"rateMovie(true, index)\" class=\"w-2/12 bg-gray-200 mx-4\"  src=\"../assets/thumbs.png\"  >\n                                <img  @click=\"rateMovie(false, index)\"  class=\"w-2/12 bg-gray-200 mx-4 transform rotate-180\"  src=\"../assets/thumbs.png\"  >\n\n                            </div>\n                        \n                            <button @click=\"addView(index)\" class=\"mt-3 rounded bg-blue-300 p-1 px-2 shadow-md text-md\">I watched this movie!</button>\n\n                        </div>\n\n\n                    </div>\n\n                </div>\n            </div>\n        </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nexport default {\n    data(){\n        return{\n\n            isMovieDetails: [],\n\n            movies: [\n\n            ],\n\n\n        }\n    },\n\n    methods:{\n\n        async addView(index){\n\n\n            \n\n            await axios.post(`http://localhost:3000/add-view`, \n            {\n                movieId: this.movies[index]._id,\n            }\n            )\n            .then((res) => {\n\n                this.movies[index].views = res.data.views\n                \n\n            }\n            ).catch((error) => {\n\n                    console.log(\"Error de servidor\");\n                    console.log(error);\n\n                }\n            )\n\n        },\n\n        moviesHoverInitializer() {\n            this.isMovieDetails = [];\n            for(var i = 0; i < this.movies.length; i++){\n\n                this.isMovieDetails.push(false);\n            }\n        },\n\n        async rateMovie(rate, index){\n\n            await axios.post(`http://localhost:3000/rate-movie`, \n            {\n                movieId: this.movies[index]._id,\n                rating: rate,\n            }\n            )\n            .then((res) => {\n\n                this.movies[index].movieLikePercentage = res.data.rating;\n                \n\n            }\n            ).catch((error) => {\n\n                    console.log(\"Error de servidor\");\n                    console.log(error);\n\n                }\n            )\n        },\n\n\n\n        mouseOver(index) {\n            this.isMovieDetails2 =true;\n            this.isMovieDetails[index] = true;\n            this.isMovieDetails.push(false)\n            this.isMovieDetails.pop()\n        },\n\n        mouseLeave(index) {\n           \n            this.isMovieDetails2 =false;\n\n            this.isMovieDetails[index] = false;\n            this.isMovieDetails.push(false)\n            this.isMovieDetails.pop()\n\n        },\n    },\n\n    async mounted(){\n\n        console.log(\"movies mountedddd\")\n        await axios.get(`http://localhost:3000/get-novelties/21`)\n        .then((res) => {\n            this.movies = res.data\n\n        }).catch((error) => {\n\n                console.log(\"Error de servidor\");\n                console.log(error);\n\n            }\n        )\n\n    }\n}\n</script>\n\n<style>\n\n\n\n</style>"],"sourceRoot":"src/views"}]}